# SPDX-FileCopyrightText: Contributors to PyPSA-Eur <https://github.com/pypsa/pypsa-eur>
#
# SPDX-License-Identifier: CC0-1.0

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#top-level-configuration
version: v2025.01.0
tutorial: false

logging:
  level: INFO
  format: '%(levelname)s:%(name)s:%(message)s'

private:
  keys:
    entsoe_api:

remote:
  ssh: ""
  path: ""

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#run
run:
  prefix: ""
  name: "baseline-3H"
  scenarios:
    enable: true
    file: config/scenarios.meta.yaml
  disable_progressbar: false
  shared_resources:
    policy: false
    exclude: []
  shared_cutouts: true

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#foresight
foresight: myopic

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#scenario
# Wildcard docs in https://pypsa-eur.readthedocs.io/en/latest/wildcards.html
scenario:
  clusters:
  - 39
  opts:
  - ''
  sector_opts:
  - ''
  planning_horizons:
  - 2030

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#countries
countries: ['AL', 'AT', 'BA', 'BE', 'BG', 'CH', 'CZ', 'DE', 'DK', 'EE', 'ES', 'FI', 'FR', 'GB', 'GR', 'HR', 'HU', 'IE', 'IT', 'LT', 'LU', 'LV', 'ME', 'MK', 'NL', 'NO', 'PL', 'PT', 'RO', 'RS', 'SE', 'SI', 'SK', 'XK']

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#snapshots
snapshots:
  start: "2013-01-01"
  end: "2014-01-01"
  inclusive: 'left'

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#enable
enable:
  retrieve: auto
  retrieve_databundle: false
  retrieve_cost_data: true
  build_cutout: false
  retrieve_cutout: false
  custom_busmap: false
  drop_leap_day: true
  procurement: true  # [true, false ] If true, model the procurement strategies

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#electricity
electricity:
  max_hours:
    li-ion battery: [8]
    vanadium: [10]
    lair: [12]
    pair: [24]
    H2: [168]
    iron-air battery: [100]

  extendable_carriers:
    StorageUnit: [] # li-ion battery, iron-air battery, H2, lfp, vanadium, lair, pair
    Store: [li-ion battery, H2]

  powerplants_filter: >
    (DateOut >= 2024 or DateOut != DateOut) and not (Country == 'DE' and Fueltype == 'Nuclear')
    and not (Country.isin(['AT', 'BE', 'DK', 'ES', 'FI', 'FR', 'GB', 'GR', 'HU', 'IE', 'IT', 'MK', 'NL', 'PT', 'RS', 'SE', 'SK'])
    and Fueltype.isin(['Hard Coal', 'Lignite']))

  transmission_limit: v1.0

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#transmission_projects
transmission_projects:
  include:
    nep: false

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#sector
sector:
  transport: false
  heating: false
  biomass: false
  ammonia: false
  #methanol: false
  industry: false
  shipping: false
  aviation: false
  agriculture: false
  dac: false
  H2_network: false
  co2_network: false
  allam_cycle_gas: false
  imports:
    enable: false
  gas_distribution_grid: false
  cluster_heat_buses: false

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#costs
costs:
  year: 2030
  version: v0.10.1

  overwrites:
    fuel:
      OCGT: 31.98 # https://tradingeconomics.com/commodity/eu-natural-gas
      CCGT: 31.98
      gas: 31.98
      coal: 10.08 # https://www.tradingview.com/symbols/ICEEUR-ATW1!/ 1 USD = 0.88 EUR
      lignite: 22.11 # https://www.tradingview.com/symbols/ICEEUR-ATW1!/ 1 USD = 0.88 EUR, lignite â‰ˆ 1/3 hard coal
    efficiency:
      Compressed-Air-Adiabatic-bicharger: 0.7745
    investment:
      iron-air battery: 21710  # in EUR/MWh (2020) from 23,500 EUR/MWh (2024)
      Compressed-Air-Adiabatic-store: 28835  # in EUR/MWh (2020) from 30,000 EUR/MWh (2022)
      Compressed-Air-Adiabatic-bicharger: 1658016  # in EUR/MW (2020) from 1,725,000 EUR/MW (2022)
    lifetime:
      Compressed-Air-Adiabatic-store: 40  # years
      Compressed-Air-Adiabatic-bicharger: 40  # years
  marginal_cost:
    solar: 0.01
    onwind: 0.015
    offwind: 0.015
    hydro: 0.
    H2: 0.
    electrolysis: 0.
    fuel cell: 0.
    li-ion battery: 0.
    battery inverter: 0.
  capital_cost:
    geothermal: 10000
  emission_prices:
    enable: false
    co2: 64.85
    co2_monthly_prices: false

# docs in https://pypsa-eur.readthedocs.io/en/latest/configuration.html#clustering
clustering:
  temporal:
    resolution_sector: 3H

# ================ Procurment Metastudy ================
res_target:
  EU_share_target: true
  country_share_target: false
  country_cap_target: true
  res_additionality: false # select if the procured renewables are part of the RE target (false) or are in addition to it (true).

grid_policy:
  renewable_carriers: ["offwind", "offwind-ac", "offwind-dc", "offwind-float", "onwind", "ror", "hydro", "urban central solid biomass CHP", "geothermal", "solar", "solar-hsat", "solar rooftop"]
  clean_carriers: ["offwind", "offwind-ac", "offwind-dc", "offwind-float", "onwind", "ror", "hydro", "urban central solid biomass CHP", "geothermal", "solar", "solar-hsat", "solar rooftop", "nuclear", "allam"]
  emitters: ["CCGT", "OCGT", "coal", "lignite", "oil"]

procurement:
  year: 2030
  strategy: vol-match # name of procurement strategy: vol-match, emi-match, 247-cfe
  scope: "all" # "node", "country", "all"
  energy_matching: 100 # share of CI energy demand to be procured
  emission_matching: 100 # share of CI emissions to be compensated

  load:
    load_path_1: data/CI-load.csv # path to Eurostat CI load input data (from https://ec.europa.eu/eurostat/databrowser/view/nrg_cb_e__custom_16270810/default/table?lang=en (CSV 2.0))
    load_path_2: data/CI-load-missing.xlsx # path to IEA CI load input data (from https://www.iea.org/data-and-statistics/data-product/world-energy-balances-highlights)
    load_year: 2023
    profile: "industry" # type of load profile (e.g., "baseload", "industry")
    participation: 10 # share of CI load participating to the procurement

  #ci:
  #  Germany: # Set name here
  #    location: "DE0 0"

  technology:
    generation_tech: ["onwind", "solar", "allam", "geothermal"]  # "nuclear"
    storage_tech: ["li-ion battery"] # "iron-air battery"

  strip_network: false # [ true, false ] If true, model only the countries with the CI loads and their neighbors
  excess_share: 0.  # share of excess CI generation that can be sold to the grid [percentage]
  min_iterations: 2
